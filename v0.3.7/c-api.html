<!doctype html>
<html class="no-js" lang="en" data-content_root="./">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="Metatomic interface" href="metatomic.html" /><link rel="prev" title="TorchScript API reference" href="torch-api.html" />

    <!-- Generated with Sphinx 8.2.3 and Furo 2024.08.06 -->
        <title>C API reference - Vesin</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=302659d7" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">Vesin</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  
  <span class="sidebar-brand-text">Vesin</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="index.html">Vesin</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="python-api.html">Python API reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="torch-api.html">TorchScript API reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="torch-api.html#torchscript-api-reference-c">TorchScript API reference (C++)</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">C API reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="metatomic.html">Metatomic interface</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="benchmarks.html">Benchmarks</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="_sources/c-api.rst.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="c-api-reference">
<span id="c-api"></span><h1>C API reference<a class="headerlink" href="#c-api-reference" title="Link to this heading">¶</a></h1>
<p>Vesin’s C API is defined in the <code class="docutils literal notranslate"><span class="pre">vesin.h</span></code> header. The main function is
<a class="reference internal" href="#c.vesin_neighbors" title="vesin_neighbors"><code class="xref c c-func docutils literal notranslate"><span class="pre">vesin_neighbors()</span></code></a>, which runs a neighbors list calculation.</p>
<dl class="c function">
<dt class="sig sig-object c" id="c.vesin_neighbors">
<span class="target" id="vesin_8h_1a34be4cc7fbf8cf6a2ca02ba5ea97fd54"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">vesin_neighbors</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">points</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">[</span></span><span class="m"><span class="pre">3</span></span><span class="p"><span class="pre">]</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">n_points</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="n"><span class="pre">box</span></span><span class="p"><span class="pre">[</span></span><span class="m"><span class="pre">3</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">[</span></span><span class="m"><span class="pre">3</span></span><span class="p"><span class="pre">]</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n"><span class="pre">periodic</span></span>, <a class="reference internal" href="#c.VesinDevice" title="VesinDevice"><span class="n"><span class="pre">VesinDevice</span></span></a><span class="w"> </span><span class="n"><span class="pre">device</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.VesinOptions" title="VesinOptions"><span class="n"><span class="pre">VesinOptions</span></span></a><span class="w"> </span><span class="n"><span class="pre">options</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.VesinNeighborList" title="VesinNeighborList"><span class="n"><span class="pre">VesinNeighborList</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">neighbors</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">error_message</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.vesin_neighbors" title="Link to this definition">¶</a><br /></dt>
<dd><p>Compute a neighbor list.</p>
<p>The data is returned in a <code class="docutils literal notranslate"><a class="reference internal" href="#struct_vesin_neighbor_list"><span class="std std-ref"><span class="pre">VesinNeighborList</span></span></a></code>. For an initial call, the <code class="docutils literal notranslate"><a class="reference internal" href="#struct_vesin_neighbor_list"><span class="std std-ref"><span class="pre">VesinNeighborList</span></span></a></code> should be zero-initialized (or default-initalized in C++). The <code class="docutils literal notranslate"><a class="reference internal" href="#struct_vesin_neighbor_list"><span class="std std-ref"><span class="pre">VesinNeighborList</span></span></a></code> can be re-used across calls to this functions to re-use memory allocations, and once it is no longer needed, users should call <code class="docutils literal notranslate"><span class="pre">vesin_free</span></code> to release the corresponding memory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>points</strong> – positions of all points in the system; </p></li>
<li><p><strong>n_points</strong> – number of elements in the <code class="docutils literal notranslate"><span class="pre">points</span></code> array </p></li>
<li><p><strong>box</strong> – bounding box for the system. If the system is non-periodic, this is ignored. This should contain the three vectors of the bounding box, one vector per row of the matrix. </p></li>
<li><p><strong>periodic</strong> – is the system using periodic boundary conditions? </p></li>
<li><p><strong>device</strong> – device where the <code class="docutils literal notranslate"><span class="pre">points</span></code> and <code class="docutils literal notranslate"><span class="pre">box</span></code> data is allocated. </p></li>
<li><p><strong>options</strong> – options for the calculation </p></li>
<li><p><strong>neighbors</strong> – non-NULL pointer to <code class="docutils literal notranslate"><a class="reference internal" href="#struct_vesin_neighbor_list"><span class="std std-ref"><span class="pre">VesinNeighborList</span></span></a></code> that will be used to store the computed list of neighbors. </p></li>
<li><p><strong>error_message</strong> – Pointer to a <code class="docutils literal notranslate"><span class="pre">char*</span></code> that wil be set to the error message if this function fails. This does not need to be freed when no longer needed. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.vesin_free">
<span class="target" id="vesin_8h_1a3e332af40a10e38910281dfe7d73eb45"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">vesin_free</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.VesinNeighborList" title="VesinNeighborList"><span class="n"><span class="pre">VesinNeighborList</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">neighbors</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.vesin_free" title="Link to this definition">¶</a><br /></dt>
<dd><p>Free all allocated memory inside a <code class="docutils literal notranslate"><a class="reference internal" href="#struct_vesin_neighbor_list"><span class="std std-ref"><span class="pre">VesinNeighborList</span></span></a></code>, according the it’s <code class="docutils literal notranslate"><span class="pre">device</span></code>. </p>
</dd></dl>

<dl class="c struct">
<dt class="sig sig-object c" id="c.VesinNeighborList">
<span class="target" id="struct_vesin_neighbor_list"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">VesinNeighborList</span></span></span><a class="headerlink" href="#c.VesinNeighborList" title="Link to this definition">¶</a><br /></dt>
<dd><p>The actual neighbor list</p>
<p>This is organized as a list of pairs, where each pair can contain the following data:</p>
<p><ul class="simple">
<li><p>indices of the points in the pair;</p></li>
<li><p>distance between points in the pair, accounting for periodic boundary conditions;</p></li>
<li><p>vector between points in the pair, accounting for periodic boundary conditions;</p></li>
<li><p>periodic shift that created the pair. This is only relevant when using periodic boundary conditions, and contains the number of bounding box we need to cross to create the pair. If the positions of the points are <code class="docutils literal notranslate"><span class="pre">r_i</span></code> and <code class="docutils literal notranslate"><span class="pre">r_j</span></code>, the bounding box is described by a matrix of three vectors <code class="docutils literal notranslate"><span class="pre">H</span></code>, and the periodic shift is <code class="docutils literal notranslate"><span class="pre">S</span></code>, the distance vector for a given pair will be given by <code class="docutils literal notranslate"><span class="pre">r_ij</span> <span class="pre">=</span> <span class="pre">r_j</span> <span class="pre">-</span> <span class="pre">r_i</span> <span class="pre">+</span> <span class="pre">S</span> <span class="pre">&#64;</span> <span class="pre">H</span></code>.</p></li>
</ul>
</p>
<p>Under periodic boundary conditions, two atoms can be part of multiple pairs, each pair having a different periodic shift. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.VesinNeighborList.length">
<span class="target" id="struct_vesin_neighbor_list_1a7ec9c4597332dc9142727fe75dcdbfb1"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">length</span></span></span><a class="headerlink" href="#c.VesinNeighborList.length" title="Link to this definition">¶</a><br /></dt>
<dd><p>Number of pairs in this neighbor list. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.VesinNeighborList.device">
<span class="target" id="struct_vesin_neighbor_list_1a0f7957aa3c16e211232859574d315173"></span><a class="reference internal" href="#c.VesinDevice" title="VesinDevice"><span class="n"><span class="pre">VesinDevice</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">device</span></span></span><a class="headerlink" href="#c.VesinNeighborList.device" title="Link to this definition">¶</a><br /></dt>
<dd><p>Device used for the data allocations. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.VesinNeighborList.pairs">
<span class="target" id="struct_vesin_neighbor_list_1a0eb451df88e55790557542de7a91bbf2"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">pairs</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">[</span></span><span class="m"><span class="pre">2</span></span><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#c.VesinNeighborList.pairs" title="Link to this definition">¶</a><br /></dt>
<dd><p>Array of pairs (storing the indices of the first and second point in the pair), containing <code class="docutils literal notranslate"><span class="pre">length</span></code> elements. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.VesinNeighborList.shifts">
<span class="target" id="struct_vesin_neighbor_list_1a6ab79a6135af2f10c4c9de9eb46e5421"></span><span class="n"><span class="pre">int32_t</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">shifts</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">[</span></span><span class="m"><span class="pre">3</span></span><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#c.VesinNeighborList.shifts" title="Link to this definition">¶</a><br /></dt>
<dd><p>Array of box shifts, one for each <code class="docutils literal notranslate"><span class="pre">pair</span></code>. This is only set if <code class="docutils literal notranslate"><span class="pre">options.return_pairs</span></code> was <code class="docutils literal notranslate"><span class="pre">true</span></code> during the calculation. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.VesinNeighborList.distances">
<span class="target" id="struct_vesin_neighbor_list_1a3f2bbd21d79be40503fbf45ccedda60c"></span><span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">distances</span></span></span><a class="headerlink" href="#c.VesinNeighborList.distances" title="Link to this definition">¶</a><br /></dt>
<dd><p>Array of pair distance (i.e. distance between the two points), one for each pair. This is only set if <code class="docutils literal notranslate"><span class="pre">options.return_distances</span></code> was <code class="docutils literal notranslate"><span class="pre">true</span></code> during the calculation. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.VesinNeighborList.vectors">
<span class="target" id="struct_vesin_neighbor_list_1a2fcacd4d97b6ee46421befa446cb1bd1"></span><span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">vectors</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">[</span></span><span class="m"><span class="pre">3</span></span><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#c.VesinNeighborList.vectors" title="Link to this definition">¶</a><br /></dt>
<dd><p>Array of pair vector (i.e. vector between the two points), one for each pair. This is only set if <code class="docutils literal notranslate"><span class="pre">options.return_vector</span></code> was <code class="docutils literal notranslate"><span class="pre">true</span></code> during the calculation. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="c struct">
<dt class="sig sig-object c" id="c.VesinOptions">
<span class="target" id="struct_vesin_options"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">VesinOptions</span></span></span><a class="headerlink" href="#c.VesinOptions" title="Link to this definition">¶</a><br /></dt>
<dd><p>Options for a neighbor list calculation. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.VesinOptions.cutoff">
<span class="target" id="struct_vesin_options_1a45034e58b099ad285dcd48f9b53b506a"></span><span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">cutoff</span></span></span><a class="headerlink" href="#c.VesinOptions.cutoff" title="Link to this definition">¶</a><br /></dt>
<dd><p>Spherical cutoff, only pairs below this cutoff will be included. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.VesinOptions.full">
<span class="target" id="struct_vesin_options_1a25f61db195ca0e11efc9afd1d98224fb"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">full</span></span></span><a class="headerlink" href="#c.VesinOptions.full" title="Link to this definition">¶</a><br /></dt>
<dd><p>Should the returned neighbor list be a full list (include both <code class="docutils literal notranslate"><span class="pre">i</span> <span class="pre">-&gt;</span> <span class="pre">j</span></code> and <code class="docutils literal notranslate"><span class="pre">j</span> <span class="pre">-&gt;</span> <span class="pre">i</span></code> pairs) or a half list (include only <code class="docutils literal notranslate"><span class="pre">i</span> <span class="pre">-&gt;</span> <span class="pre">j</span></code>)? </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.VesinOptions.sorted">
<span class="target" id="struct_vesin_options_1a517d54b3d242180e5ce14c7a759ca387"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">sorted</span></span></span><a class="headerlink" href="#c.VesinOptions.sorted" title="Link to this definition">¶</a><br /></dt>
<dd><p>Should the neighbor list be sorted? If yes, the returned pairs will be sorted using lexicographic order. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.VesinOptions.return_shifts">
<span class="target" id="struct_vesin_options_1a23401ee8b9617a3b762a4527489a4ac9"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">return_shifts</span></span></span><a class="headerlink" href="#c.VesinOptions.return_shifts" title="Link to this definition">¶</a><br /></dt>
<dd><p>Should the returned <code class="docutils literal notranslate"><a class="reference internal" href="#struct_vesin_neighbor_list"><span class="std std-ref"><span class="pre">VesinNeighborList</span></span></a></code> contain <code class="docutils literal notranslate"><span class="pre">shifts</span></code>? </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.VesinOptions.return_distances">
<span class="target" id="struct_vesin_options_1ab6b609ba5a7424cad87c823876dbdd0b"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">return_distances</span></span></span><a class="headerlink" href="#c.VesinOptions.return_distances" title="Link to this definition">¶</a><br /></dt>
<dd><p>Should the returned <code class="docutils literal notranslate"><a class="reference internal" href="#struct_vesin_neighbor_list"><span class="std std-ref"><span class="pre">VesinNeighborList</span></span></a></code> contain <code class="docutils literal notranslate"><span class="pre">distances</span></code>? </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.VesinOptions.return_vectors">
<span class="target" id="struct_vesin_options_1a4e791d66ccf80edc1b9c7018ac0a24f0"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">return_vectors</span></span></span><a class="headerlink" href="#c.VesinOptions.return_vectors" title="Link to this definition">¶</a><br /></dt>
<dd><p>Should the returned <code class="docutils literal notranslate"><a class="reference internal" href="#struct_vesin_neighbor_list"><span class="std std-ref"><span class="pre">VesinNeighborList</span></span></a></code> contain <code class="docutils literal notranslate"><span class="pre">vector</span></code>? </p>
</dd></dl>

</div>
</dd></dl>

<dl class="c enum">
<dt class="sig sig-object c" id="c.VesinDevice">
<span class="target" id="vesin_8h_1aa3099716274ac8bfab619a3004450023"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">VesinDevice</span></span></span><a class="headerlink" href="#c.VesinDevice" title="Link to this definition">¶</a><br /></dt>
<dd><p>Device on which the data can be. </p>
<p><em>Values:</em></p>
<dl class="c enumerator">
<dt class="sig sig-object c" id="c.VesinDevice.VesinUnknownDevice">
<span class="target" id="vesin_8h_1aa3099716274ac8bfab619a3004450023acf90069f1eeb19158d4a363cd69e381a"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">VesinUnknownDevice</span></span></span><a class="headerlink" href="#c.VesinDevice.VesinUnknownDevice" title="Link to this definition">¶</a><br /></dt>
<dd><p>Unknown device, used for default initialization and to indicate no allocated data. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.VesinDevice.VesinCPU">
<span class="target" id="vesin_8h_1aa3099716274ac8bfab619a3004450023a17d47992c40bc7a36c43cee00160e9a0"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">VesinCPU</span></span></span><a class="headerlink" href="#c.VesinDevice.VesinCPU" title="Link to this definition">¶</a><br /></dt>
<dd><p>CPU device. </p>
</dd></dl>

</dd></dl>

</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="metatomic.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Metatomic interface</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="torch-api.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">TorchScript API reference</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2025, vesin developers
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">C API reference</a><ul>
<li><a class="reference internal" href="#c.vesin_neighbors"><code class="docutils literal notranslate"><span class="pre">vesin_neighbors()</span></code></a></li>
<li><a class="reference internal" href="#c.vesin_free"><code class="docutils literal notranslate"><span class="pre">vesin_free()</span></code></a></li>
<li><a class="reference internal" href="#c.VesinNeighborList"><code class="docutils literal notranslate"><span class="pre">VesinNeighborList</span></code></a><ul>
<li><a class="reference internal" href="#c.VesinNeighborList.length"><code class="docutils literal notranslate"><span class="pre">length</span></code></a></li>
<li><a class="reference internal" href="#c.VesinNeighborList.device"><code class="docutils literal notranslate"><span class="pre">device</span></code></a></li>
<li><a class="reference internal" href="#c.VesinNeighborList.pairs"><code class="docutils literal notranslate"><span class="pre">pairs</span></code></a></li>
<li><a class="reference internal" href="#c.VesinNeighborList.shifts"><code class="docutils literal notranslate"><span class="pre">shifts</span></code></a></li>
<li><a class="reference internal" href="#c.VesinNeighborList.distances"><code class="docutils literal notranslate"><span class="pre">distances</span></code></a></li>
<li><a class="reference internal" href="#c.VesinNeighborList.vectors"><code class="docutils literal notranslate"><span class="pre">vectors</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#c.VesinOptions"><code class="docutils literal notranslate"><span class="pre">VesinOptions</span></code></a><ul>
<li><a class="reference internal" href="#c.VesinOptions.cutoff"><code class="docutils literal notranslate"><span class="pre">cutoff</span></code></a></li>
<li><a class="reference internal" href="#c.VesinOptions.full"><code class="docutils literal notranslate"><span class="pre">full</span></code></a></li>
<li><a class="reference internal" href="#c.VesinOptions.sorted"><code class="docutils literal notranslate"><span class="pre">sorted</span></code></a></li>
<li><a class="reference internal" href="#c.VesinOptions.return_shifts"><code class="docutils literal notranslate"><span class="pre">return_shifts</span></code></a></li>
<li><a class="reference internal" href="#c.VesinOptions.return_distances"><code class="docutils literal notranslate"><span class="pre">return_distances</span></code></a></li>
<li><a class="reference internal" href="#c.VesinOptions.return_vectors"><code class="docutils literal notranslate"><span class="pre">return_vectors</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#c.VesinDevice"><code class="docutils literal notranslate"><span class="pre">VesinDevice</span></code></a><ul>
<li><a class="reference internal" href="#c.VesinDevice.VesinUnknownDevice"><code class="docutils literal notranslate"><span class="pre">VesinUnknownDevice</span></code></a></li>
<li><a class="reference internal" href="#c.VesinDevice.VesinCPU"><code class="docutils literal notranslate"><span class="pre">VesinCPU</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    </body>
</html>